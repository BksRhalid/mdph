<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <div class="input-group">
    <input class="form-control" type="text" ng-model="query" placeholder="Recherche">
    </input>
    <span class="input-group-addon" ng-class="{'btn': query}" ng-click="query = ''"><i class="fa fa-times" ng-class="{'text-muted': !query}"></i></span>
  </div>

  <div class="row">
    <region ng-repeat="(region, mdphs) in filterRegions()">
      <div class="col-sm-4">
        <dl>
          <dt>
            <h3>{{region}}</h3>
          </dt>
          <dd ng-repeat="mdph in mdphs | filter:query">
            <a
              ng-click="resetCurrentRequest(mdph)">
                {{mdph.nom_du_departement}}
            </a>
          </dd>
        </dl>
      </div>
      <div class="clearfix" ng-if="$index % 3 === 2"></div>
    </region>
  </div>
</div>
