<div class="nav-questionnaire">
  <div class="container">
    <ol class="breadcrumb">
      <li><a ui-sref="main">Accueil</a></li>
      <li class="active">Choix de la MDPH</li>
    </ol>
  </div>
</div>

<div class="choix-mdph-container">
  <h1 id="choix_mdph">Choississez votre MDPH</h1>
  <div class="input-group">
    <input class="form-control" type="text" ng-model="query" placeholder="Recherche">
    </input>
    <span class="input-group-addon" ng-class="{'btn': query}" ng-click="query = ''"><i class="fa fa-times" ng-class="{'text-muted': !query}"></i></span>
  </div>
  <div class="row">
    <div ng-repeat="(region, mdphs) in filterRegions()">
      <div class="col-sm-4">
        <dl>
          <dt>
            <h2 id="{{region}}">{{region}}</h2>
          </dt>
          <dd ng-repeat="mdph in mdphs | orderBy:'nom_du_departement' | filter:query">
            <a ng-if="mdph.enabled" ui-sref="departement.demande.obligatoire({codeDepartement: mdph.code_departement, shortId: 'nouvelle_demande'})" title="MDPH {{mdph.nom_du_departement}}">
              {{mdph.nom_du_departement}}
            </a>
            <span class="text-muted" ng-if="!mdph.enabled">{{mdph.nom_du_departement}}</span>
          </dd>
        </dl>
      </div>
      <div class="clearfix" ng-if="$index % 3 === 2"></div>
    </div>
  </div>
</div>
