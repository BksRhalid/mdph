<div class="login-view-white">
  <h1 id="inscription">Inscription</h1>

  <form aria-labelledby="inscription" class="form" name="form" ng-submit="register(form)" novalidate>

    <div class="form-group" ng-class="{ 'has-success': form.name.$valid && submitted,
                                        'has-error': form.name.$invalid && submitted }">
      <label for="signup-name">Votre nom et prénom</label>

      <input id="signup-name" type="text" name="name" class="form-control" ng-model="user.name"
             required/>
      <p class="help-block" ng-show="form.name.$error.required && submitted">
        Veuillez entrer un nom.
      </p>
    </div>

    <div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitted,
                                        'has-error': form.email.$invalid && submitted }">
      <label for="email">Email</label>

      <input id="email" type="email" name="email" class="form-control" ng-model="user.email"
             required
             ng-change="resetMongooseError(form, 'email')"
             mongoose-error/>
      <p class="help-block" ng-show="form.email.$error.email && submitted">
        Cet email n'est pas valide.
      </p>
      <p class="help-block" ng-show="form.email.$error.required && submitted">
        Veuillez entrer votre adresse e-mail.
      </p>
      <p class="help-block" ng-show="form.email.$error.mongoose">
        {{ errors.email }}
      </p>
    </div>

    <div class="form-group" ng-class="{ 'has-success': form.password.$valid && submitted,
                                        'has-error': form.password.$invalid && submitted }">
      <label for="password">Mot de passe</label>
      <input id="password" type="{{inputType}}" name="password"
        class="form-control" ng-model="user.password" ng-minlength="8" required mongoose-error>

      <input type="checkbox" id="checkbox" ng-model="hidePassword" ng-click="toggleType()" />
      <label for="checkbox" class="control-label">Afficher le mot de passe</label>

      <p class="help-block"
         ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">
        Le mot de passe doit être au moins de 8 caractères.
      </p>
      <p class="help-block" ng-show="form.password.$error.mongoose">
        {{ errors.password }}
      </p>
    </div>

    <div class="text-right">
      <button class="btn btn-primary btn-lg btn-login" type="submit">
        <i class="fa fa-lock"></i> S'inscrire
      </button>
    </div>
  </form>

  <p class="signin-option">Vous avez déjà un compte ? <a ui-sref="login">Se connecter</a></p>
</div>
