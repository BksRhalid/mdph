<h3 class="required">Prestations demandées</h3>

<table class="table">
  <tbody ng-repeat="(key, type) in types" ng-if="request.status === 'en_cours'">
    <tr class="table-header">
      <th>{{key | prestationType}}</th>
      <td>Oui</td>
      <td>Non</td>
      <td>Renouvellement</td>
    </tr>
    <tr ng-repeat="prestation in type">
      <td>
        {{prestation.title}}
        <div>
          <button class="btn btn-link" ng-click="prestation.showDetail = !prestation.showDetail" type="button">{{prestation.showDetail ? 'Moins' : 'Plus'}} de détails</button>
        </div>
        <div class="text-justify" ng-if="prestation.showDetail">
          {{prestation.description}}
          <a href="{{prestation.link}}">{{prestation.link}}</a>
        </div>
      </td>

      <td class="center-text">
        <input type="radio" name="{{prestation.id}}" ng-model="prestation.choice" value="true">
      </td>
      <td class="center-text">
        <input type="radio" name="{{prestation.id}}" ng-model="prestation.choice" value="false">
      </td>
      <td class="center-text">
        <input type="radio" name="{{prestation.id}}" ng-model="prestation.choice" value="renouvellement">
      </td>
    </tr>
  </tbody>
</table>

<div ng-repeat="prestation in request.detailPrestations" ng-if="request.status !== 'en_cours'">
  <dl class="demande-prestations">
    <dt>{{prestation.title}}</dt>
    <dd>{{prestation.description}}</dd>
  </dl>
</div>
