<div class="row prestations">
  <div ng-repeat="(idx, prestation) in prestations">
    <div class="col-sm-4">
      <div class="panel panel-default panel-action"
        ng-class="isSelected(prestation) ? 'panel-opened ' +  prestation.type : 'panel-closed ' +  prestation.type">
        <div class="panel-heading" ng-click="toggle(prestation)">
          <h3 class="panel-title">
            <div class="row">
              <div class="col-xs-10">{{prestation.title}}</div>
              <div class="col-xs-1"><i class="fa" 
                ng-class="{'fa-plus-circle': !isSelected(prestation), 'fa-minus-circle': isSelected(prestation)}"></i>
              </div>
            </div>
          </h3>
        </div>
        <div class="panel-body" ng-if="!isSelected(prestation)">
          <p>{{prestation.description}}</p>
        </div>
        <div class="panel-body" ng-if="isSelected(prestation)">
          <label>Date de fin</label>
          <div class="input-group">
            <input type="text" class="form-control"
              datepicker-popup="dd/MM/yyyy" ng-model="prestation.date"
              is-open="prestation.opened" placeholder="DD/MM/YYYY" datepicker-options="{{dateOptions}}"
              close-text="Fermer" show-button-bar="false" ng-required="true"/>
            <span class="input-group-btn">
              <button type="button" class="btn btn-default" ng-click="open($event, prestation)"><i class="glyphicon glyphicon-calendar"></i></button>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div ng-if="idx % 3 === 2" class="clearfix"></div>
  </div>
</div>
